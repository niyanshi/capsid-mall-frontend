import{d as x,r as u,w,o as y,c as b,b as a,bD as p,bE as r,e as S,H as m,t as k,_ as I}from"./index.21f0358c.js";import{_ as $}from"./icon-add.d86e97f0.js";import{c as B}from"./campaign.e0699e2c.js";const C={class:"select-box"},D=["src"],V=x({__name:"index",props:{width:null,height:null,iconSize:null,iconText:null,modelValue:null,url:null},emits:["update:modelValue"],setup(_,{emit:h}){const e=_,l=u(""),f="http://172.100.3.144:9080/file/download?fileName=",o=u(),i=()=>{var t;(t=o.value)==null||t.click()};w(()=>e.modelValue,t=>{l.value=t||""},{immediate:!0});const g=async t=>{const n=t.target,c=n.files?n.files[0]:null;if(c){const d=new FormData;d.append("file",c);const v=e.url||"/campaigns/upload",s=await B(v,d);s.code===0&&(l.value=s.data,h("update:modelValue",s.data))}};return(t,n)=>(y(),b("div",C,[a("div",{class:"img-box",style:m({width:`${e.width||400}px`,height:`${e.height||400}px`})},[p(a("img",{src:`${S(f)}${l.value}`,alt:"",onClick:i},null,8,D),[[r,l.value]]),p(a("div",{onClick:i},[a("input",{ref_key:"imageInput",ref:o,type:"file",style:{display:"none"},onChange:g},null,544),a("img",{class:"icon-add",src:$,style:m({width:`${e.iconSize}px`,height:`${e.iconSize}px`})},null,4),a("span",null,k(e.iconText),1)],512),[[r,!l.value]])],4)]))}});const T=I(V,[["__scopeId","data-v-d25d13eb"]]);export{T as B};
