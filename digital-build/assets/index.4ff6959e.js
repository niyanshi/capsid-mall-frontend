import{d as q,y as M,u as O,r as l,w as j,o as a,i as H,C as D,b as e,bD as c,bE as i,t as _,e as p,c as n,n as I,h as $,F as x,q as J,s as Q,_ as X}from"./index.21f0358c.js";import{_ as L}from"./icon-add.d86e97f0.js";import{B as Y}from"./index.2f5b3fba.js";import{h as Z}from"./nft.2142c28f.js";import{h as V}from"./profile.e2067de0.js";import{d as ee}from"./campaign.e0699e2c.js";const r=m=>(J("data-v-e4103913"),m=m(),Q(),m),se={class:"wear"},te={class:"dialog-title"},ae=r(()=>e("i",{class:"icon-crown icon"},null,-1)),oe={class:"dialog-main"},le={class:"select-box"},ce=r(()=>e("div",{class:"select-title"},null,-1)),ie={key:0,class:"img-box"},ne=["src"],re={class:"add-wrap"},de=r(()=>e("img",{src:L,alt:"",srcset:""},null,-1)),ue={class:"text"},ve=r(()=>e("div",{class:"right-arrow split"},null,-1)),_e=r(()=>e("div",{class:"result-box"},null,-1)),pe=r(()=>e("div",{class:"left-arrow split"},null,-1)),he={class:"select-box"},me={class:"select-title"},ge={key:0,class:"img-box"},ke=["src"],fe={class:"add-wrap"},be=r(()=>e("img",{src:L,alt:"",srcset:""},null,-1)),ye={class:"text"},we={class:"select"},Ce={class:"dialog-title"},Ie=r(()=>e("i",{class:"icon-bag icon"},null,-1)),Te={class:"select-part"},Ae={class:"tab-wrap"},Fe={class:"avatar-to-select"},Ne=["onClick"],Se=["src"],We=["onClick"],Be=["src"],Ue={class:"dialog-button"},De={class:"icon-wear"},$e={class:"icon-ok"},xe=q({__name:"index",props:{visible:{type:Boolean},itemToWear:null},emits:["close","result"],setup(m,{emit:T}){const b=m,y=M(),{t:d}=O(),P=()=>{T("close")},o=l(!0),h=l(!0),g=l([]),k=l([]),w=l(-1),C=l(),f=l();j(()=>b.itemToWear,s=>{s&&(f.value=b.itemToWear)});const F=async()=>{const s=await Z({owner:y.currentUser.publicKey});s.code===0&&(g.value=s.data)},R=async()=>{const s=await V({accountAdr:y.currentUser.publicKey,type:"owned"});s.code===0&&(k.value=s.data.records)},N=s=>{h.value=s===1,s===1?F():R()},S=l("right"),W=s=>{s==="left"&&b.itemToWear||(S.value=s,o.value=!1,F())},B=s=>{w.value=s;let t;h.value?t={image:g.value[s].imageUrl,tokenAddress:g.value[s].contractAddress,tokenId:g.value[s].tokenId,type:1}:t={image:k.value[s].image,tokenAddress:k.value[s].nfrTokenAddress,tokenId:k.value[s].nfrTokenId,type:2},S.value==="left"?f.value=t:C.value=t},K=async(s,t)=>{(await ee({accountAddress:y.currentUser.publicKey,accountId:y.currentUser.userId,parentPic1:s.image,parentPic2:t.image,parentTokenId1:s.tokenId,parentTokenId2:t.tokenId,parentType1:s.type,parentType2:t.type,tokenAddress1:s.tokenAddress,tokenAddress2:t.tokenAddress})).code===0?T("result",!0):T("result",!1)},z=()=>{o.value=!0,w.value=-1},E=()=>{K(f.value,C.value)};return(s,t)=>(a(),H(Y,{visible:b.visible,width:"1280",height:"688",onClose:P},{button:D(()=>[e("div",Ue,[c(e("span",{onClick:z},_(p(d)("ok")),513),[[i,!o.value]]),c(e("span",{onClick:E},_(p(d)("wear")),513),[[i,o.value]]),c(e("i",De,null,512),[[i,o.value]]),c(e("i",$e,null,512),[[i,!o.value]])])]),default:D(()=>{var A,U;return[c(e("div",se,[e("div",te,[ae,e("span",null,_(p(d)("wear")),1)]),e("div",oe,[e("div",le,[ce,f.value?(a(),n("div",ie,[e("img",{src:f.value.image,alt:""},null,8,ne)])):(a(),n("div",{key:1,class:"img-box add-border",onClick:t[0]||(t[0]=u=>W("left"))},[e("div",re,[de,e("div",ue,_(p(d)("wear-page.chooseWearable")),1)])]))]),ve,_e,pe,e("div",he,[e("div",me,_(p(d)("selectAvatarNFT")),1),(A=C.value)!=null&&A.image?(a(),n("div",ge,[e("img",{src:(U=C.value)==null?void 0:U.image,alt:""},null,8,ke)])):(a(),n("div",{key:1,class:"img-box add-border",onClick:t[1]||(t[1]=u=>W("right"))},[e("div",fe,[be,e("div",ye,_(p(d)("selectAvatar")),1)])]))])])],512),[[i,o.value]]),c(e("div",we,[e("div",Ce,[Ie,e("span",null,_(p(d)("selectAvatarz")),1)]),e("div",Te,[e("div",Ae,[e("span",{class:I(["tab",h.value?"active":""]),onClick:t[2]||(t[2]=u=>N(1))},"NFT",2),e("span",{class:I(["tab",h.value?"":"active"]),onClick:t[3]||(t[3]=u=>N(2))},"NFR",2)])]),e("div",Fe,[c(e("div",null,[(a(!0),n(x,null,$(g.value,(u,v)=>(a(),n("div",{key:v,class:I([w.value===v?"select-img":""]),onClick:G=>B(v)},[e("img",{src:u.imageUrl},null,8,Se)],10,Ne))),128))],512),[[i,h.value]]),c(e("div",null,[(a(!0),n(x,null,$(k.value,(u,v)=>(a(),n("div",{key:v,class:I([w.value===v?"select-img":""]),onClick:G=>B(v)},[e("img",{src:u.image},null,8,Be)],10,We))),128))],512),[[i,!h.value]])])],512),[[i,!o.value]])]}),_:1},8,["visible"]))}});const Ge=X(xe,[["__scopeId","data-v-e4103913"]]);export{Ge as P};
